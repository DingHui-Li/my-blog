import{d as D,O as S,k as P,G as be,s as H,U as E,aL as $e,ce as Le,A as j,af as we,_ as le,a8 as T,bc as Z,be as pe,aO as He,c as m,D as ge,J as ae,r as I,ab as De,av as Re,P as Me,M as te,ac as fe,o as ye,b as Ee,e as g,a9 as V,I as Ce,S as We,T as je,ag as ue,E as K,N as _e,bo as ke,aq as Ve,X as qe,cf as Fe,an as he,ao as Ge,a7 as Ue,R as Je,aQ as Qe,f as Xe,l as q,m as B,V as Q,v as Ze,t as Pe,al as Ke,am as Ie,a as Ye,q as Y,b5 as Te,cg as et,ah as tt}from"./entry.68178e43.js";import{t as ne}from"./aria.bc8e8b0f.js";import{E as Oe}from"./el-popper.f81160bc.js";import{T as nt,u as ot,t as se,i as Se}from"./index.2c8df682.js";import{f as at}from"./vnode.a9c3e3aa.js";/* empty css                */import"./el-tooltip.4ed993c7.js";import{_ as st}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.38034195.js";const lt=D({name:"ElCollapseTransition"}),ut=D({...lt,setup(e){const o=S("collapse-transition"),n=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},u={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){t.dataset.oldOverflow=t.style.overflow,t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){n(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){n(t)},leaveCancelled(t){n(t)}};return(t,v)=>(P(),be(we,$e({name:j(o).b()},Le(u)),{default:H(()=>[E(t.$slots,"default")]),_:3},16,["name"]))}});var oe=le(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);oe.install=e=>{e.component(oe.name,oe)};const it=oe;let rt=class{constructor(o,n){this.parent=o,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(o){o===this.subMenuItems.length?o=0:o<0&&(o=this.subMenuItems.length-1),this.subMenuItems[o].focus(),this.subIndex=o}addListeners(){const o=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",u=>{let t=!1;switch(u.code){case T.down:{this.gotoSubIndex(this.subIndex+1),t=!0;break}case T.up:{this.gotoSubIndex(this.subIndex-1),t=!0;break}case T.tab:{ne(o,"mouseleave");break}case T.enter:case T.space:{t=!0,u.currentTarget.click();break}}return t&&(u.preventDefault(),u.stopPropagation()),!1})})}},ct=class{constructor(o,n){this.domNode=o,this.submenu=null,this.submenu=null,this.init(n)}init(o){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${o}-menu`);n&&(this.submenu=new rt(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",o=>{let n=!1;switch(o.code){case T.down:{ne(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case T.up:{ne(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case T.tab:{ne(o.currentTarget,"mouseleave");break}case T.enter:case T.space:{n=!0,o.currentTarget.click();break}}n&&o.preventDefault()})}},dt=class{constructor(o,n){this.domNode=o,this.init(n)}init(o){const n=this.domNode.childNodes;Array.from(n).forEach(u=>{u.nodeType===1&&new ct(u,o)})}};const pt=D({name:"ElMenuCollapseTransition",setup(){const e=S("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,u){Z(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",u()},onAfterEnter(n){pe(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),He(n,e.m("collapse"))?(pe(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Z(n,e.m("collapse"))):(Z(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),pe(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Z(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function mt(e,o,n,u,t,v){return P(),be(we,$e({mode:"out-in"},e.listeners),{default:H(()=>[E(e.$slots,"default")]),_:3},16)}var vt=le(pt,[["render",mt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Ne(e,o){const n=m(()=>{let t=e.parent;const v=[o.value];for(;t.type.name!=="ElMenu";)t.props.index&&v.unshift(t.props.index),t=t.parent;return v});return{parentMenu:m(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function ft(e){return m(()=>{const n=e.backgroundColor;return n?new nt(n).shade(20).toString():""})}const Be=(e,o)=>{const n=S("menu");return m(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ft(e).value||"","active-color":e.activeTextColor||"",level:`${o}`}))},ht=ge({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:K},expandOpenIcon:{type:K},collapseCloseIcon:{type:K},collapseOpenIcon:{type:K}}),ee="ElSubMenu";var xe=D({name:ee,props:ht,setup(e,{slots:o,expose:n}){ot({from:"popper-append-to-body",replacement:"teleported",scope:ee,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},m(()=>e.popperAppendToBody!==void 0));const u=_e(),{indexPath:t,parentMenu:v}=Ne(u,m(()=>e.index)),d=S("menu"),f=S("sub-menu"),l=ae("rootMenu");l||se(ee,"can not inject root menu");const c=ae(`subMenu:${v.value.uid}`);c||se(ee,"can not inject sub menu");const h=I({}),M=I({});let _;const O=I(!1),ie=I(),X=I(null),A=m(()=>a.value==="horizontal"&&z.value?"bottom-start":"right-start"),R=m(()=>a.value==="horizontal"&&z.value||a.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?k.value?e.expandOpenIcon:e.expandCloseIcon:De:e.collapseCloseIcon&&e.collapseOpenIcon?k.value?e.collapseOpenIcon:e.collapseCloseIcon:Re),z=m(()=>c.level===0),F=m(()=>{var r;const p=(r=e.teleported)!=null?r:e.popperAppendToBody;return p===void 0?z.value:p}),re=m(()=>l.props.collapse?`${d.namespace.value}-zoom-in-left`:`${d.namespace.value}-zoom-in-top`),ce=m(()=>a.value==="horizontal"&&z.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),k=m(()=>l.openedMenus.includes(e.index)),L=m(()=>{let r=!1;return Object.values(h.value).forEach(p=>{p.active&&(r=!0)}),Object.values(M.value).forEach(p=>{p.active&&(r=!0)}),r}),G=m(()=>l.props.backgroundColor||""),U=m(()=>l.props.activeTextColor||""),W=m(()=>l.props.textColor||""),a=m(()=>l.props.mode),s=Me({index:e.index,indexPath:t,active:L}),i=Be(l.props,c.level+1),y=m(()=>a.value!=="horizontal"?{color:W.value}:{borderBottomColor:L.value?l.props.activeTextColor?U.value:"":"transparent",color:L.value?U.value:W.value}),b=()=>{var r,p,C;return(C=(p=(r=X.value)==null?void 0:r.popperRef)==null?void 0:p.popperInstanceRef)==null?void 0:C.destroy()},$=r=>{r||b()},N=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:t.value,active:L.value})},w=(r,p=e.showTimeout)=>{var C;r.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled||(c.mouseInChild.value=!0,_==null||_(),{stop:_}=ke(()=>{l.openMenu(e.index,t.value)},p),F.value&&((C=v.value.vnode.el)==null||C.dispatchEvent(new MouseEvent("mouseenter")))))},x=(r=!1)=>{var p,C;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(_==null||_(),c.mouseInChild.value=!1,{stop:_}=ke(()=>!O.value&&l.closeMenu(e.index,t.value),e.hideTimeout),F.value&&r&&((p=u.parent)==null?void 0:p.type.name)==="ElSubMenu"&&((C=c.handleMouseleave)==null||C.call(c,!0)))};te(()=>l.props.collapse,r=>$(!!r));{const r=C=>{M.value[C.index]=C},p=C=>{delete M.value[C.index]};fe(`subMenu:${u.uid}`,{addSubMenu:r,removeSubMenu:p,handleMouseleave:x,mouseInChild:O,level:c.level+1})}return n({opened:k}),ye(()=>{l.addSubMenu(s),c.addSubMenu(s)}),Ee(()=>{c.removeSubMenu(s),l.removeSubMenu(s)}),()=>{var r;const p=[(r=o.title)==null?void 0:r.call(o),g(Ce,{class:f.e("icon-arrow"),style:{transform:k.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>V(R.value)?g(u.appContext.components[R.value]):g(R.value)})],C=l.isMenuPopup?g(Oe,{ref:X,visible:k.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:A.value,teleported:F.value,fallbackPlacements:ce.value,transition:re.value,gpuAcceleration:!1},{content:()=>{var J;return g("div",{class:[d.m(a.value),d.m("popup-container"),e.popperClass],onMouseenter:de=>w(de,100),onMouseleave:()=>x(!0),onFocus:de=>w(de,100)},[g("ul",{class:[d.b(),d.m("popup"),d.m(`popup-${A.value}`)],style:i.value},[(J=o.default)==null?void 0:J.call(o)])])},default:()=>g("div",{class:f.e("title"),style:[y.value,{backgroundColor:G.value}],onClick:N},p)}):g(ue,{},[g("div",{class:f.e("title"),style:[y.value,{backgroundColor:G.value}],ref:ie,onClick:N},p),g(it,{},{default:()=>{var J;return We(g("ul",{role:"menu",class:[d.b(),d.m("inline")],style:i.value},[(J=o.default)==null?void 0:J.call(o)]),[[je,k.value]])}})]);return g("li",{class:[f.b(),f.is("active",L.value),f.is("opened",k.value),f.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:k.value,onMouseenter:w,onMouseleave:()=>x(!0),onFocus:w},[C])}}});const bt=ge({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:he(Array),default:()=>Ge([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),me=e=>Array.isArray(e)&&e.every(o=>V(o)),gt={close:(e,o)=>V(e)&&me(o),open:(e,o)=>V(e)&&me(o),select:(e,o,n,u)=>V(e)&&me(o)&&Ue(n)&&(u===void 0||u instanceof Promise)};var Mt=D({name:"ElMenu",props:bt,emits:gt,setup(e,{emit:o,slots:n,expose:u}){const t=_e(),v=t.appContext.config.globalProperties.$router,d=I(),f=S("menu"),l=S("sub-menu"),c=I(-1),h=I(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),M=I(e.defaultActive),_=I({}),O=I({}),ie=m(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),X=()=>{const a=M.value&&_.value[M.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(i=>{const y=O.value[i];y&&A(i,y.indexPath)})},A=(a,s)=>{h.value.includes(a)||(e.uniqueOpened&&(h.value=h.value.filter(i=>s.includes(i))),h.value.push(a),o("open",a,s))},R=a=>{const s=h.value.indexOf(a);s!==-1&&h.value.splice(s,1)},z=(a,s)=>{R(a),o("close",a,s)},F=({index:a,indexPath:s})=>{h.value.includes(a)?z(a,s):A(a,s)},re=a=>{(e.mode==="horizontal"||e.collapse)&&(h.value=[]);const{index:s,indexPath:i}=a;if(!(Se(s)||Se(i)))if(e.router&&v){const y=a.route||s,b=v.push(y).then($=>($||(M.value=s),$));o("select",s,i,{index:s,indexPath:i,route:y},b)}else M.value=s,o("select",s,i,{index:s,indexPath:i})},ce=a=>{const s=_.value,i=s[a]||M.value&&s[M.value]||s[e.defaultActive];i?M.value=i.index:M.value=a},k=()=>{var a,s;if(!d.value)return-1;const i=Array.from((s=(a=d.value)==null?void 0:a.childNodes)!=null?s:[]).filter(r=>r.nodeName!=="#comment"&&(r.nodeName!=="#text"||r.nodeValue)),y=64,b=Number.parseInt(getComputedStyle(d.value).paddingLeft,10),$=Number.parseInt(getComputedStyle(d.value).paddingRight,10),N=d.value.clientWidth-b-$;let w=0,x=0;return i.forEach((r,p)=>{w+=r.offsetWidth||0,w<=N-y&&(x=p+1)}),x===i.length?-1:x},L=(a,s=33.34)=>{let i;return()=>{i&&clearTimeout(i),i=setTimeout(()=>{a()},s)}};let G=!0;const U=()=>{const a=()=>{c.value=-1,Je(()=>{c.value=k()})};G?a():L(a)(),G=!1};te(()=>e.defaultActive,a=>{_.value[a]||(M.value=""),ce(a)}),te(()=>e.collapse,a=>{a&&(h.value=[])}),te(_.value,X);let W;Ve(()=>{e.mode==="horizontal"&&e.ellipsis?W=qe(d,U).stop:W==null||W()});{const a=b=>{O.value[b.index]=b},s=b=>{delete O.value[b.index]};fe("rootMenu",Me({props:e,openedMenus:h,items:_,subMenus:O,activeIndex:M,isMenuPopup:ie,addMenuItem:b=>{_.value[b.index]=b},removeMenuItem:b=>{delete _.value[b.index]},addSubMenu:a,removeSubMenu:s,openMenu:A,closeMenu:z,handleMenuItemClick:re,handleSubMenuClick:F})),fe(`subMenu:${t.uid}`,{addSubMenu:a,removeSubMenu:s,mouseInChild:I(!1),level:0})}return ye(()=>{e.mode==="horizontal"&&new dt(t.vnode.el,f.namespace.value)}),u({open:s=>{const{indexPath:i}=O.value[s];i.forEach(y=>A(y,i))},close:R,handleResize:U}),()=>{var a,s;let i=(s=(a=n.default)==null?void 0:a.call(n))!=null?s:[];const y=[];if(e.mode==="horizontal"&&d.value){const N=at(i),w=c.value===-1?N:N.slice(0,c.value),x=c.value===-1?[]:N.slice(c.value);x!=null&&x.length&&e.ellipsis&&(i=w,y.push(g(xe,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>g(Ce,{class:l.e("icon-more")},{default:()=>g(Fe)}),default:()=>x})))}const b=Be(e,0),$=g("ul",{key:String(e.collapse),role:"menubar",ref:d,style:b.value,class:{[f.b()]:!0,[f.m(e.mode)]:!0,[f.m("collapse")]:e.collapse}},[...i,...y]);return e.collapseTransition&&e.mode==="vertical"?g(vt,()=>$):$}}});const yt=ge({index:{type:he([String,null]),default:null},route:{type:he([String,Object])},disabled:Boolean}),Ct={click:e=>V(e.index)&&Array.isArray(e.indexPath)},ve="ElMenuItem",_t=D({name:ve,components:{ElTooltip:Oe},props:yt,emits:Ct,setup(e,{emit:o}){const n=_e(),u=ae("rootMenu"),t=S("menu"),v=S("menu-item");u||se(ve,"can not inject root menu");const{parentMenu:d,indexPath:f}=Ne(n,Qe(e,"index")),l=ae(`subMenu:${d.value.uid}`);l||se(ve,"can not inject sub menu");const c=m(()=>e.index===u.activeIndex),h=Me({index:e.index,indexPath:f,active:c}),M=()=>{e.disabled||(u.handleMenuItemClick({index:e.index,indexPath:f.value,route:e.route}),o("click",h))};return ye(()=>{l.addSubMenu(h),u.addMenuItem(h)}),Ee(()=>{l.removeSubMenu(h),u.removeMenuItem(h)}),{parentMenu:d,rootMenu:u,active:c,nsMenu:t,nsMenuItem:v,handleClick:M}}});function It(e,o,n,u,t,v){const d=Xe("el-tooltip");return P(),q("li",{class:Q([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:o[0]||(o[0]=(...f)=>e.handleClick&&e.handleClick(...f))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(P(),be(d,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:H(()=>[E(e.$slots,"title")]),default:H(()=>[B("div",{class:Q(e.nsMenu.be("tooltip","trigger"))},[E(e.$slots,"default")],2)]),_:3},8,["effect"])):(P(),q(ue,{key:1},[E(e.$slots,"default"),E(e.$slots,"title")],64))],2)}var Ae=le(_t,[["render",It],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const xt={title:String},kt="ElMenuItemGroup",Tt=D({name:kt,props:xt,setup(){return{ns:S("menu-item-group")}}});function St(e,o,n,u,t,v){return P(),q("li",{class:Q(e.ns.b())},[B("div",{class:Q(e.ns.e("title"))},[e.$slots.title?E(e.$slots,"title",{key:1}):(P(),q(ue,{key:0},[Ze(Pe(e.title),1)],64))],2),B("ul",null,[E(e.$slots,"default")])],2)}var ze=le(Tt,[["render",St],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const $t=Ke(Mt,{MenuItem:Ae,MenuItemGroup:ze,SubMenu:xe}),wt=Ie(Ae);Ie(ze);Ie(xe);const Et={class:"layout"},Pt={class:"topbar-container"},Ot={class:"content"},Nt={__name:"admin",setup(e){const o=Ye();let n=I(!1);const u=[{title:"文章管理",path:"/admin/article"},{title:"标签管理",path:"/admin/topic"},{title:"全局配置",path:"/admin/setting"},{title:"Log",path:"/admin/log"}];return(t,v)=>{const d=Ce,f=wt,l=$t;return P(),q("div",Et,[B("div",Pt,[Y(d,{class:"menu",size:20,onClick:v[0]||(v[0]=c=>Te(n)?n.value=!j(n):n=!j(n))},{default:H(()=>[Y(j(et))]),_:1})]),B("div",{class:"content-container",onClick:v[1]||(v[1]=c=>Te(n)?n.value=!1:n=!1)},[B("div",{class:Q(["sidebar",`${j(n)&&"show"}`])},[Y(l,null,{default:H(()=>[(P(),q(ue,null,tt(u,c=>Y(f,{index:c.path,onClick:h=>j(o).replace(c.path)},{default:H(()=>[B("span",null,Pe(c.title),1)]),_:2},1032,["index","onClick"])),64))]),_:1})],2),B("div",Ot,[E(t.$slots,"default",{},void 0,!0)])])])}}},Gt=st(Nt,[["__scopeId","data-v-f184ddd3"]]);export{Gt as default};
